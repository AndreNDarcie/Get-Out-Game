<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Teste</title>
  </head>
  <body>
    <canvas width="500" height="500" style="background-color: black;"></canvas>
    <p>W, A, S, D to move.</p>
  </body>
  <script>
    var canvas = document.querySelector('canvas');
    var ctx = canvas.getContext("2d");
    var x = 0, y = 0;
    var cw=canvas.width;
    var ch=canvas.height;

    ctx.fillStyle = "#FF0000";
    ctx.fillRect(0,0,150,75);

    function update(){
      ctx.clearRect(0,0,cw,ch);
      ctx.fillRect(x,y,20,20);
    }

    update(20,20);

    // listen for keydown events on the document
    document.addEventListener("keydown",handleKeydown,false);

    function handleKeydown(e){
      switch(e.keyCode){
        case 87: if(y > 0) y-=20; break;  // W
        case 65: if(x > 0) x-=20; break;  // A
        case 83: if(y < (ch-20)) y+=20; break;  // S
        case 68: if(x < (cw-20)) x+=20; break;  // D
      }
      update();
    }

  </script>
</html>
